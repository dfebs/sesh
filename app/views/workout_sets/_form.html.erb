<% if action == :edit %>
  <% model_arr = [workout_set] %> 
<% else %>
  <% model_arr = [workout_instance, workout_set] %> 
<% end %>

<%= turbo_frame_tag combined_dom_id(workout_set.workout_instance, workout_set) do %>
  <%= form_with model: model_arr, class: "workout-set-form" do | form | %>
    <%= form.label :reps %>
    <%= form.number_field :reps, min: 1, max: 5000, required: true, inputmode: "numeric" %>

    <% preferred_unit = Current.user.user_config.get_unit workout_instance.workout[:workout_type] %>

    <%= form.label "Amount #{preferred_unit}" %>
    <% if Constants::UNIT_TYPES[preferred_unit] == "imperial" %>
      <%= form.number_field :amount_imp, min: 1, max: 3000, required: true, step: :any, inputmode: "decimal" %>
    <% end %>

    <% if Constants::UNIT_TYPES[preferred_unit] == "metric" %>
      <%= form.number_field :amount_metric, min: 1, max: 3000, required: true, step: :any, inputmode: "decimal" %>
    <% end %>

    <%= form.submit class: "submit" %>
    <%= link_to "Cancel", workout_session_path(workout_instance.workout_session) %>
  <% end %>
<% end %>
